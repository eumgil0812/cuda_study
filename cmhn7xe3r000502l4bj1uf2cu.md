---
title: "QSPI (Quad Serial Peripheral Interface)"
datePublished: Thu Nov 06 2025 09:22:27 GMT+0000 (Coordinated Universal Time)
cuid: cmhn7xe3r000502l4bj1uf2cu
slug: qspi-quad-serial-peripheral-interface
tags: qspi

---

## üìò QSPI (Quad Serial Peripheral Interface)

### 1Ô∏è‚É£ Concept

QSPI (Quad SPI) is an extended version of the standard **SPI (Serial Peripheral Interface)** protocol. It increases data throughput by expanding the data bus from **1 bit to 4 bits**.

In standard SPI, data is transferred using **MOSI (Master Out Slave In)** and **MISO (Master In Slave Out)**, which means **1 bit per clock**. In QSPI, these lines are replaced by **IO0 ~ IO3**, allowing **4-bit parallel data transfer**, achieving up to **4√ó higher throughput** than regular SPI without increasing the clock frequency.

---

### 2Ô∏è‚É£ Signal Lines

| Signal | Description |
| --- | --- |
| **CS (Chip Select)** | Selects the slave device (active low) |
| **CLK (Clock)** | Clock signal generated by the master |
| **IO0 ~ IO3** | Data lines used for transmit/receive |

Unlike standard SPI (which has fixed MOSI/MISO directions), **IO0‚ÄìIO3 are bidirectional** and change direction depending on the transfer phase.

---

### 3Ô∏è‚É£ Transfer Phases

Although the exact sequence varies by flash manufacturer, QSPI transactions generally follow three phases:

| Phase | Description |
| --- | --- |
| **Command Phase** | Sends the opcode (usually transmitted in Single mode) |
| **Address Phase** | Sends the target memory address (Single, Dual, or Quad) |
| **Data Phase** | Transfers actual data (Single / Dual / Quad mode) |

Example: Reading from QSPI Flash

1. Send `0xEB` (Fast Read Quad I/O Command)
    
2. Send 3-byte address
    
3. Insert required dummy cycles
    
4. Receive data in Quad mode
    

---

### 4Ô∏è‚É£ Example Read Sequence

```text
CS = Low
Command: 0xEB        (Single Line)
Address: 0x00 0x10 0x00    (Quad Line)
Dummy: 8 cycles
Data: [0x12][0x34][0x56]... (Quad Line)
CS = High
```

Once the command is issued, the flash outputs data using **4 data lines in parallel**, increasing read speed.

---

### 5Ô∏è‚É£ Advantages

* **High throughput** without increasing clock frequency
    
* Supports **XIP (Execute In Place)** on some MCUs, enabling direct code execution from flash
    
* **More pin-efficient** than parallel flash memory
    

---

### 6Ô∏è‚É£ Disadvantages

* **More complex hardware routing** due to timing requirements on 4-bit data lanes
    
* **Command sets differ between vendors** (e.g., Winbond, Micron, ISSI)
    
* **Not all MCUs support DMA or memory-mapped mode** for QSPI
    

---

### 7Ô∏è‚É£ Common Commands (Winbond W25Q Series Example)

| Command | Opcode | Description | Data Width |
| --- | --- | --- | --- |
| **Read Data** | `0x03` | Standard/slow read | 1-bit |
| **Fast Read** | `0x0B` | Faster read + dummy | 1-bit |
| **Dual Read** | `0x3B` | Read using 2 data lines | 2-bit |
| **Quad Read** | `0x6B` | Read using 4 data lines | 4-bit |
| **Page Program** | `0x02` | Write data to flash page | 1-bit |
| **Sector Erase** | `0x20` | Erase 4KB flash sector | 1-bit |

---

### 8Ô∏è‚É£ Summary

* **SPI** ‚Üí 1-bit serial data transfer
    
* **QSPI** ‚Üí 4-bit parallel transfer (up to 4√ó throughput)
    
* Used mainly for **external flash, firmware storage, and bootloaders**
    
* Some MCUs support **XIP mode** to execute code directly from QSPI flash
    

---